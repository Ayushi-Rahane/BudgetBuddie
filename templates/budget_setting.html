{% extends "base.html" %}

{% block title %}BudgetBuddie - Add Expense{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='add_expense_style.css') }}">
{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

{% block content %}
<div class="container text-center">
   <h1>Manage Your Monthly Budget</h1>
    <!-- Total Expenses -->
  
    <h2>Current Budget: â‚¹{{ budget }}</h2>
     
    <!-- Two Containers: Form and Table -->

    <!-- Add Expense Form Container -->
    <div class="container mt-4 card-section">
      <h4>Set Budget</h4>
      <form action="/budget_setting" method="POST">
        <div class="mb-3">
            <input type="number" class="form-control" id="budgetAmount" required min="1"name="budget"  placeholder="Enter budget amount">
        </div>
        <!-- generate a code where if budget is not set then it should show save budget and if budget is set then show update button-->
        {% if budget %}
            <button type="submit" class="btn btn-warning">Update Budget</button>
        {% else %}
            <button type="submit" class="btn btn-primary">Save Budget</button>
        {% endif %}
        
      </form>
    </div>

    <!-- Expenses Table Container -->
    <div class="container mt-5 card-section">
            <!-- Budget Doughnut Chart -->
        {% if budget_doughnut_chart_base64 %}
        <div class="text-center mt-4">
        <h5>Budget Usage Overview</h5>
        <img src="data:image/png;base64,{{ budget_doughnut_chart_base64 }}" class="img-fluid" style="max-width:400px;">
        </div>
        {% endif %}
        {% if motivational_message %}
<div class="mt-3">
  <p class="text-success">{{ motivational_message }}</p>
</div>
{% endif %}
    </div>
</div>
{% endblock %}